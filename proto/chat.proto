syntax = "proto3";

package chat;

message ChatMessage {
  string user = 1;
  string text = 2;
  string group_name = 3;
  int64 timestamp_ms = 4;
  string room = 5;
}

message Member {
  string name = 1;
  string phone_number = 2;
}

message CreateGroupRequest {
  string group_name = 1;
  repeated Member members = 2;
}

message CreateGroupResponse {
  bool success = 1;
}

service ChatService {
  rpc Chat(stream ChatMessage) returns (stream ChatMessage);
  rpc CreateGroup(CreateGroupRequest) returns (CreateGroupResponse);
  // rpc JoinGroup(JoinGroupRequest) returns (JoinGroupResponse);
  // rpc LeaveGroup(LeaveGroupRequest) returns (LeaveGroupResponse);
  // rpc GetGroupMembers(GetGroupMembersRequest) returns (GetGroupMembersResponse);
}

service TranslatorService {
  rpc Translate(ChatText) returns (ChatText);
}

message ChatText {
  string text = 1;
  string target_language = 2;
}

